<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A minimalist, art-focused Python library for creating beautiful generative artwork">
      
      
      
        <link rel="canonical" href="https://pyfreeform.github.io/pyfreeform/recipes/05-connected-networks/">
      
      
        <link rel="prev" href="../04-geometric-patterns/">
      
      
        <link rel="next" href="../06-rotating-shapes/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Connected Networks - PyFreeform</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recipe-connected-networks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PyFreeform" class="md-header__button md-logo" aria-label="PyFreeform" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyFreeform
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Connected Networks
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="amber" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/pyfreeform/pyfreeform" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    pyfreeform/pyfreeform
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PyFreeform" class="md-nav__button md-logo" aria-label="PyFreeform" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    PyFreeform
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pyfreeform/pyfreeform" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    pyfreeform/pyfreeform
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/00-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/01-your-first-artwork/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Your First Artwork
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/02-core-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Concepts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/03-image-to-art/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image to Art
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Fundamentals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Fundamentals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/01-scenes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scenes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/02-grids-and-cells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grids &amp; Cells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/03-entities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/04-styling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Styling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/05-layering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Layering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../entities/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Entities
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Entities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../entities/01-dots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../entities/02-lines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../entities/03-curves/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Curves
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../entities/04-ellipses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ellipses
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../entities/05-polygons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Polygons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../entities/06-text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../entities/07-rectangles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rectangles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../advanced-concepts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Advanced Concepts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-concepts/01-anchor-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Anchor System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-concepts/02-connections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-concepts/03-pathable-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pathable Protocol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-concepts/04-transforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-concepts/05-fit-to-cell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fit to Cell
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced-concepts/06-grid-selections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grid Selections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Parametric Art
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Parametric Art
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parametric-art/01-what-is-parametric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What is Parametric?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parametric-art/02-positioning-along-paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Positioning Along Paths
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parametric-art/03-bezier-mathematics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bezier Mathematics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parametric-art/04-ellipse-mathematics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ellipse Mathematics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parametric-art/05-custom-paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Paths
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parametric-art/06-mathematical-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mathematical Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Recipes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Recipes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-dot-art-from-images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dot Art from Images
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-halftone-effects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Halftone Effects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-flowing-curves/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Flowing Curves
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-geometric-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Geometric Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Connected Networks
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Connected Networks
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#visual-result" class="md-nav__link">
    <span class="md-ellipsis">
      
        Visual Result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-this-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why This Works
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Pattern
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection-variations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connection Variations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connection Variations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distance-based-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distance-Based Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#radial-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Radial Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Connections
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Techniques
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#weighted-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weighted Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curved-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Curved Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-layer-networks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Layer Networks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tips
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layer-connections-below-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Layer Connections Below Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vary-width-for-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vary Width for Depth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threshold-for-clarity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Threshold for Clarity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagonal-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Diagonal Connections
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameter-tuning-guide" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Tuning Guide
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parameter Tuning Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choosing-connection-thresholds" class="md-nav__link">
    <span class="md-ellipsis">
      
        Choosing Connection Thresholds
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distance-based-connection-radius" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distance-Based Connection Radius
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line-width-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Line Width Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-size-variation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Size Variation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-pitfalls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Pitfalls
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pitfalls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pitfall-1-wrong-connection-style-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 1: Wrong Connection Style Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-2-creating-duplicate-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 2: Creating Duplicate Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-3-not-using-z-index-for-layering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 3: Not Using Z-Index for Layering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-4-forgetting-to-store-dot-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 4: Forgetting to Store Dot References
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-5-using-cellbelow-instead-of-cellbottom" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 5: Using cell.below Instead of cell.bottom
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-always-layer-connections-below-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Always Layer Connections Below Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-dictionaries-to-track-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use Dictionaries to Track Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-start-with-grid-neighbors-then-add-distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Start with Grid Neighbors, Then Add Distance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-use-opacity-for-visual-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Use Opacity for Visual Depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-techniques_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Techniques
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hub-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hub Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-connection-styling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Connection Styling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triangle-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Triangle Clusters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direction-based-coloring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Direction-Based Coloring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Optimization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limit-connection-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Limit Connection Checks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-rotating-shapes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rotating Shapes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-text-art/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Art
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8">
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../examples/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_2">
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Beginner
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Beginner
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/beginner/quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/beginner/custom-dots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Dots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/beginner/diagonal-lines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Diagonal Lines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/beginner/grid-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grid Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/beginner/polygon-gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Polygon Gallery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_3">
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Intermediate
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Intermediate
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/intermediate/connections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/intermediate/curves/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Curves
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/intermediate/transforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/intermediate/groups/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Groups
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/intermediate/text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_4">
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/advanced/multi-layer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Layer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/advanced/showcase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Showcase
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/advanced/ellipses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ellipses
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/advanced/parametric-paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parametric Paths
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/advanced/custom-paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Paths
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9">
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Color &amp; Style
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Color &amp; Style
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../color-and-style/01-color-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Color System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../color-and-style/02-palettes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Palettes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../color-and-style/03-style-objects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Style Objects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../color-and-style/04-creating-palettes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating Palettes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10">
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developer Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/01-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/02-entity-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/03-creating-entities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creating Entities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/04-pathable-protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pathable Protocol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/05-image-processing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Image Processing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/06-contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11">
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/scene/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scene
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/grid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/cell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cell
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/entities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/connections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/pathable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pathable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/transforms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-reference/utilities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#visual-result" class="md-nav__link">
    <span class="md-ellipsis">
      
        Visual Result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-this-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why This Works
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Pattern
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Example
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection-variations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connection Variations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connection Variations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distance-based-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distance-Based Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#radial-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Radial Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Connections
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-techniques" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Techniques
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#weighted-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weighted Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curved-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Curved Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-layer-networks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multi-Layer Networks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tips" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tips
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layer-connections-below-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Layer Connections Below Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vary-width-for-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vary Width for Depth
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threshold-for-clarity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Threshold for Clarity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagonal-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Diagonal Connections
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameter-tuning-guide" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameter Tuning Guide
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parameter Tuning Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choosing-connection-thresholds" class="md-nav__link">
    <span class="md-ellipsis">
      
        Choosing Connection Thresholds
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distance-based-connection-radius" class="md-nav__link">
    <span class="md-ellipsis">
      
        Distance-Based Connection Radius
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#line-width-strategies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Line Width Strategies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-size-variation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Node Size Variation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-pitfalls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Pitfalls
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Pitfalls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pitfall-1-wrong-connection-style-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 1: Wrong Connection Style Syntax
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-2-creating-duplicate-connections" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 2: Creating Duplicate Connections
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-3-not-using-z-index-for-layering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 3: Not Using Z-Index for Layering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-4-forgetting-to-store-dot-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 4: Forgetting to Store Dot References
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pitfall-5-using-cellbelow-instead-of-cellbottom" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pitfall 5: Using cell.below Instead of cell.bottom
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-always-layer-connections-below-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Always Layer Connections Below Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-dictionaries-to-track-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use Dictionaries to Track Nodes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-start-with-grid-neighbors-then-add-distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Start with Grid Neighbors, Then Add Distance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-use-opacity-for-visual-depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Use Opacity for Visual Depth
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-techniques_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced Techniques
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Techniques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hub-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hub Detection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-connection-styling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Conditional Connection Styling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triangle-clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Triangle Clusters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direction-based-coloring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Direction-Based Coloring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance Optimization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Performance Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#limit-connection-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Limit Connection Checks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See Also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="recipe-connected-networks">Recipe: Connected Networks<a class="headerlink" href="#recipe-connected-networks" title="Permanent link"></a></h1>
<p>Create dynamic network visualizations by connecting dots and shapes with lines, showing relationships and flow.</p>
<hr>
<h2 id="visual-result">Visual Result<a class="headerlink" href="#visual-result" title="Permanent link"></a></h2>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/01_basic_network.svg" data-desc-position="bottom"><img alt="Network visualization with connected nodes and lines" src="../_images/05-connected-networks/01_basic_network.svg"></a></p>
<p>Networks show connections and relationships between elements.</p>
<hr>
<h2 id="why-this-works">Why This Works<a class="headerlink" href="#why-this-works" title="Permanent link"></a></h2>
<p>Network visualizations tap into our intuition about relationships and connections. By representing data points as nodes (dots) and their relationships as edges (lines), you create compositions that suggest meaning beyond decoration. The human eye naturally follows lines between points, creating implicit flow and narrative.</p>
<p>The visual impact comes from:</p>
<ul>
<li><strong>Implied relationships</strong>: Lines suggest connections, even when abstract</li>
<li><strong>Visual flow</strong>: Eyes follow connection paths across the composition</li>
<li><strong>Density variation</strong>: Sparse and dense regions create rhythm and focus</li>
<li><strong>Layering depth</strong>: Nodes in front, connections behind creates spatial hierarchy</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">When to Use This Technique</p>
<p>Choose connected networks when you want:</p>
<ul>
<li>Work that suggests data, science, or technology themes</li>
<li>Complex compositions that reward close examination</li>
<li>Visual metaphors for communication, community, or systems</li>
<li>Dynamic layouts where every element relates to others</li>
<li>High contrast between foreground nodes and background structure</li>
</ul>
</div>
<hr>
<h2 id="the-pattern">The Pattern<a class="headerlink" href="#the-pattern" title="Permanent link"></a></h2>
<p><strong>Key Idea</strong>: Connect cells to their neighbors using dynamic connections that update automatically.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">pyfreeform</span><span class="w"> </span><span class="kn">import</span> <span class="n">Connection</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="c1"># Add dot</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cell</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>    <span class="c1"># Connect to right neighbor</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>        <span class="n">right_dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="c1"># Create connection that updates automatically</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>            <span class="n">start</span><span class="o">=</span><span class="n">dot</span><span class="p">,</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>            <span class="n">end</span><span class="o">=</span><span class="n">right_dot</span><span class="p">,</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="s2">"gray"</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>        <span class="p">)</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        <span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
</span></code></pre></div>
<hr>
<h2 id="complete-example">Complete Example<a class="headerlink" href="#complete-example" title="Permanent link"></a></h2>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">pyfreeform</span><span class="w"> </span><span class="kn">import</span> <span class="n">Scene</span><span class="p">,</span> <span class="n">Palette</span><span class="p">,</span> <span class="n">Connection</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">scene</span> <span class="o">=</span> <span class="n">Scene</span><span class="o">.</span><span class="n">from_image</span><span class="p">(</span><span class="s2">"photo.jpg"</span><span class="p">,</span> <span class="n">grid_size</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="n">colors</span> <span class="o">=</span> <span class="n">Palette</span><span class="o">.</span><span class="n">midnight</span><span class="p">()</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">scene</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">background</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># Create nodes (dots)</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">dots</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.4</span><span class="p">:</span>  <span class="c1"># Only bright cells</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>        <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>            <span class="n">radius</span><span class="o">=</span><span class="mi">2</span> <span class="o">+</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span>  <span class="c1"># Size varies</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>            <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">,</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>            <span class="n">z_index</span><span class="o">=</span><span class="mi">10</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>        <span class="p">)</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>        <span class="n">dots</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span> <span class="o">=</span> <span class="n">dot</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="c1"># Create connections between neighbors</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>    <span class="k">if</span> <span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">col</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">:</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>        <span class="k">continue</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    <span class="n">dot1</span> <span class="o">=</span> <span class="n">dots</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    <span class="c1"># Connect to right neighbor</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">col</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">:</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>        <span class="n">dot2</span> <span class="o">=</span> <span class="n">dots</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>        <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>            <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>            <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>        <span class="p">)</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>        <span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>    <span class="c1"># Connect to bottom neighbor</span>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom</span> <span class="ow">and</span> <span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="n">col</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">:</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>        <span class="n">dot2</span> <span class="o">=</span> <span class="n">dots</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>        <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>            <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a>            <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>        <span class="p">)</span>
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>        <span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a><span class="n">scene</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">"connected_network.svg"</span><span class="p">)</span>
</span></code></pre></div>
<hr>
<h2 id="connection-variations">Connection Variations<a class="headerlink" href="#connection-variations" title="Permanent link"></a></h2>
<h3 id="distance-based-connections">Distance-Based Connections<a class="headerlink" href="#distance-based-connections" title="Permanent link"></a></h3>
<p>Connect only nearby dots:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1"># Create all dots</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">dots</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>        <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>        <span class="n">dots</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">dot</span><span class="p">,</span> <span class="n">cell</span><span class="p">))</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c1"># Connect dots within distance threshold</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="n">max_distance</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># cells</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">dot1</span><span class="p">,</span> <span class="n">cell1</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dots</span><span class="p">):</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>    <span class="k">for</span> <span class="n">dot2</span><span class="p">,</span> <span class="n">cell2</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]:</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>        <span class="c1"># Calculate distance</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>        <span class="n">dr</span> <span class="o">=</span> <span class="n">cell1</span><span class="o">.</span><span class="n">row</span> <span class="o">-</span> <span class="n">cell2</span><span class="o">.</span><span class="n">row</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>        <span class="n">dc</span> <span class="o">=</span> <span class="n">cell1</span><span class="o">.</span><span class="n">col</span> <span class="o">-</span> <span class="n">cell2</span><span class="o">.</span><span class="n">col</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>        <span class="n">distance</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dr</span><span class="o">*</span><span class="n">dr</span> <span class="o">+</span> <span class="n">dc</span><span class="o">*</span><span class="n">dc</span><span class="p">)</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="n">max_distance</span><span class="p">:</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>            <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>                <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>                <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>                <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>            <span class="p">)</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>            <span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
</span></code></pre></div>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/02_distance_based.svg" data-desc-position="bottom"><img alt="Network with connections that fade based on distance" src="../_images/05-connected-networks/02_distance_based.svg"></a></p>
<h3 id="radial-connections">Radial Connections<a class="headerlink" href="#radial-connections" title="Permanent link"></a></h3>
<p>Connect all dots to a central hub:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Find center cell</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">center</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">rows</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">cols</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">hub_dot</span> <span class="o">=</span> <span class="n">center</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">accent</span><span class="p">)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># Connect all other bright cells to hub</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="k">if</span> <span class="n">cell</span> <span class="o">==</span> <span class="n">center</span><span class="p">:</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>        <span class="k">continue</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.6</span><span class="p">:</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        <span class="n">outer_dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>        <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>            <span class="n">start</span><span class="o">=</span><span class="n">hub_dot</span><span class="p">,</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>            <span class="n">end</span><span class="o">=</span><span class="n">outer_dot</span><span class="p">,</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>        <span class="p">)</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>        <span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
</span></code></pre></div>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/03_radial_hub.svg" data-desc-position="bottom"><img alt="All dots connect to a central hub node" src="../_images/05-connected-networks/03_radial_hub.svg"></a></p>
<h3 id="conditional-connections">Conditional Connections<a class="headerlink" href="#conditional-connections" title="Permanent link"></a></h3>
<p>Connect based on brightness similarity:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&lt;</span> <span class="mf">0.4</span><span class="p">:</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>        <span class="k">continue</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="n">dot1</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cell</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="c1"># Connect to right neighbor if similar brightness</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">-</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">brightness</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.2</span><span class="p">:</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>        <span class="n">dot2</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>        <span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>            <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>            <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>        <span class="p">)</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>        <span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
</span></code></pre></div>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/06_similarity_based.svg" data-desc-position="bottom"><img alt="Connections between dots with similar brightness" src="../_images/05-connected-networks/06_similarity_based.svg"></a></p>
<hr>
<h2 id="advanced-techniques">Advanced Techniques<a class="headerlink" href="#advanced-techniques" title="Permanent link"></a></h2>
<h3 id="weighted-connections">Weighted Connections<a class="headerlink" href="#weighted-connections" title="Permanent link"></a></h3>
<p>Vary line width based on relationship strength:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Width based on average brightness</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">avg_brightness</span> <span class="o">=</span> <span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">+</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">brightness</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">width</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="n">avg_brightness</span> <span class="o">*</span> <span class="mi">2</span>  <span class="c1"># 0.5 to 2.5</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="n">width</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">}</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="p">)</span>
</span></code></pre></div>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/04_weighted_connections.svg" data-desc-position="bottom"><img alt="Weighted connections with varying line width" src="../_images/05-connected-networks/04_weighted_connections.svg"></a></p>
<h3 id="curved-connections">Curved Connections<a class="headerlink" href="#curved-connections" title="Permanent link"></a></h3>
<p>Use curves instead of straight lines:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Add curve between dots</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">curve</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_curve</span><span class="p">(</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="o">.</span><span class="n">position</span><span class="p">,</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="o">.</span><span class="n">position</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>    <span class="n">curvature</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="n">width</span><span class="o">=</span><span class="mi">1</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="multi-layer-networks">Multi-Layer Networks<a class="headerlink" href="#multi-layer-networks" title="Permanent link"></a></h3>
<p>Create different connection types on different layers:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Strong connections (high brightness)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.7</span> <span class="ow">and</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.7</span><span class="p">:</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>        <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>        <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>        <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">accent</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="p">)</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1"># Weak connections (medium brightness)</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="k">elif</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.4</span><span class="p">:</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>    <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>        <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>        <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>        <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>    <span class="p">)</span>
</span></code></pre></div>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/07_multi_layer.svg" data-desc-position="bottom"><img alt="Multiple connection layers with strong and weak links" src="../_images/05-connected-networks/07_multi_layer.svg"></a></p>
<hr>
<h2 id="tips">Tips<a class="headerlink" href="#tips" title="Permanent link"></a></h2>
<h3 id="layer-connections-below-nodes">Layer Connections Below Nodes<a class="headerlink" href="#layer-connections-below-nodes" title="Permanent link"></a></h3>
<p>Always put connections on a lower z-index:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Connections first (background)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># Dots second (foreground)</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">z_index</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="vary-width-for-depth">Vary Width for Depth<a class="headerlink" href="#vary-width-for-depth" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Closer connections = thicker</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">width</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="p">(</span><span class="n">distance</span> <span class="o">/</span> <span class="n">max_distance</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.5</span>  <span class="c1"># 0.5 to 1.0</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="n">width</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">}</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="threshold-for-clarity">Threshold for Clarity<a class="headerlink" href="#threshold-for-clarity" title="Permanent link"></a></h3>
<p>Don't connect everything - use thresholds:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Only connect bright areas</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="ow">and</span> <span class="n">neighbor</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="c1"># Create connection</span>
</span></code></pre></div>
<h3 id="diagonal-connections">Diagonal Connections<a class="headerlink" href="#diagonal-connections" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Connect to all 8 neighbors</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">neighbors</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">left</span><span class="p">,</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="n">cell</span><span class="o">.</span><span class="n">top</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="n">cell</span><span class="o">.</span><span class="n">top_left</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">top_right</span><span class="p">,</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>    <span class="n">cell</span><span class="o">.</span><span class="n">bottom_left</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom_right</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="p">]</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="k">for</span> <span class="n">neighbor</span> <span class="ow">in</span> <span class="n">neighbors</span><span class="p">:</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>    <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">and</span> <span class="n">should_connect</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">neighbor</span><span class="p">):</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>        <span class="c1"># Create connection</span>
</span></code></pre></div>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/05_diagonal_connections.svg" data-desc-position="bottom"><img alt="Diagonal connections linking nodes across the grid" src="../_images/05-connected-networks/05_diagonal_connections.svg"></a></p>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../_images/05-connected-networks/08_sparse_network.svg" data-desc-position="bottom"><img alt="Sparse network with fewer connections between bright nodes" src="../_images/05-connected-networks/08_sparse_network.svg"></a></p>
<hr>
<h2 id="parameter-tuning-guide">Parameter Tuning Guide<a class="headerlink" href="#parameter-tuning-guide" title="Permanent link"></a></h2>
<h3 id="choosing-connection-thresholds">Choosing Connection Thresholds<a class="headerlink" href="#choosing-connection-thresholds" title="Permanent link"></a></h3>
<p>The threshold determines which cells get connected. Too low creates a sparse network; too high creates an overwhelming web.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Very sparse (only brightest cells)</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">:</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>    <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c1"># Medium density (balanced)</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="c1"># Dense network (most cells)</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.3</span><span class="p">:</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>    <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Finding the Right Density</p>
<p>Start with <code>brightness &gt; 0.5</code> for a balanced network. Preview the result, then adjust:</p>
<ul>
<li>If too cluttered: increase threshold (0.6, 0.7)</li>
<li>If too sparse: decrease threshold (0.4, 0.3)</li>
<li>For high-contrast images: use lower thresholds</li>
<li>For low-contrast images: use higher thresholds</li>
</ul>
</div>
<h3 id="distance-based-connection-radius">Distance-Based Connection Radius<a class="headerlink" href="#distance-based-connection-radius" title="Permanent link"></a></h3>
<p>Control how far apart nodes can be while still connecting:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Close connections only (tight clusters)</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">max_distance</span> <span class="o">=</span> <span class="mi">2</span>  <span class="c1"># cells</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="c1"># Medium range (balanced)</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="n">max_distance</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># cells</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="c1"># Long-range connections (web-like)</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="n">max_distance</span> <span class="o">=</span> <span class="mi">8</span>  <span class="c1"># cells</span>
</span></code></pre></div>
<div class="admonition info">
<p class="admonition-title">Distance vs Grid Size</p>
<p>Scale your max_distance with your grid size:</p>
<ul>
<li>10x10 grid: use max_distance = 2-3</li>
<li>20x20 grid: use max_distance = 3-5</li>
<li>40x40 grid: use max_distance = 5-8</li>
</ul>
</div>
<h3 id="line-width-strategies">Line Width Strategies<a class="headerlink" href="#line-width-strategies" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Constant width (uniform appearance)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">}</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="c1"># Distance-based width (creates depth)</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="n">width</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">-</span> <span class="p">(</span><span class="n">distance</span> <span class="o">/</span> <span class="n">max_distance</span><span class="p">)</span>  <span class="c1"># Thicker when closer</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="n">width</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">}</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="c1"># Brightness-based width (highlights important nodes)</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="n">avg_brightness</span> <span class="o">=</span> <span class="p">(</span><span class="n">cell1</span><span class="o">.</span><span class="n">brightness</span> <span class="o">+</span> <span class="n">cell2</span><span class="o">.</span><span class="n">brightness</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="n">width</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="n">avg_brightness</span> <span class="o">*</span> <span class="mf">1.5</span>  <span class="c1"># 0.5 to 2.0</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="n">width</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">}</span>
</span></code></pre></div>
<h3 id="node-size-variation">Node Size Variation<a class="headerlink" href="#node-size-variation" title="Permanent link"></a></h3>
<p>Make important nodes larger:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Uniform size (egalitarian)</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="c1"># Brightness-based size (emphasizes bright areas)</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">radius</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">*</span> <span class="mi">4</span>  <span class="c1"># 2 to 6</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="c1"># Connection count-based size (hub detection)</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="c1"># (Requires tracking connections per node)</span>
</span></code></pre></div>
<hr>
<h2 id="common-pitfalls">Common Pitfalls<a class="headerlink" href="#common-pitfalls" title="Permanent link"></a></h2>
<h3 id="pitfall-1-wrong-connection-style-syntax">Pitfall 1: Wrong Connection Style Syntax<a class="headerlink" href="#pitfall-1-wrong-connection-style-syntax" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">#  WRONG - Connection doesn't take direct parameters</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>    <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>    <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>          <span class="c1"># Not valid!</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>    <span class="n">color</span><span class="o">=</span><span class="s2">"red"</span>       <span class="c1"># Not valid!</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="p">)</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="c1">#  CORRECT - Use style dict</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>    <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>    <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="s2">"red"</span><span class="p">}</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="p">)</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Style Must Be a Dictionary</p>
<p>Unlike most PyFreeform entities, <code>Connection</code> requires a <code>style</code> dictionary. Direct parameters like <code>width=</code> or <code>color=</code> will be silently ignored or cause errors.</p>
</div>
<h3 id="pitfall-2-creating-duplicate-connections">Pitfall 2: Creating Duplicate Connections<a class="headerlink" href="#pitfall-2-creating-duplicate-connections" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">#  WRONG - Creates connection twice (AB and BA)</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>    <span class="k">for</span> <span class="n">other_cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>        <span class="k">if</span> <span class="n">should_connect</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">other_cell</span><span class="p">):</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>            <span class="c1"># Creates duplicate when cell and other_cell swap</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>            <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">cell_dot</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">other_dot</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="c1">#  CORRECT - Only connect once</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">cell</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">):</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>    <span class="k">for</span> <span class="n">other_cell</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">)[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]:</span>  <span class="c1"># Only cells after current</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>        <span class="k">if</span> <span class="n">should_connect</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">other_cell</span><span class="p">):</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>            <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">cell_dot</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">other_dot</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="pitfall-3-not-using-z-index-for-layering">Pitfall 3: Not Using Z-Index for Layering<a class="headerlink" href="#pitfall-3-not-using-z-index-for-layering" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">#  WRONG - Connections may appear on top of dots</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="s2">"red"</span><span class="p">})</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="c1">#  CORRECT - Connections behind, dots in front</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>    <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="s2">"red"</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>  <span class="c1"># Background</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="p">)</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">,</span> <span class="n">z_index</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Foreground</span>
</span></code></pre></div>
<h3 id="pitfall-4-forgetting-to-store-dot-references">Pitfall 4: Forgetting to Store Dot References<a class="headerlink" href="#pitfall-4-forgetting-to-store-dot-references" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">#  WRONG - Can't connect dots we don't have references to</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="c1"># How do we connect these later?</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1">#  CORRECT - Store dots in a dictionary</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="n">dots</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">brightness</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">:</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>        <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>        <span class="n">dots</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span> <span class="o">=</span> <span class="n">dot</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="c1"># Now we can connect them</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="k">for</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">),</span> <span class="n">dot1</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>    <span class="c1"># ... find neighbors and connect</span>
</span></code></pre></div>
<h3 id="pitfall-5-using-cellbelow-instead-of-cellbottom">Pitfall 5: Using <code>cell.below</code> Instead of <code>cell.bottom</code><a class="headerlink" href="#pitfall-5-using-cellbelow-instead-of-cellbottom" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">#  WRONG - No such attribute</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">below</span><span class="p">:</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    <span class="c1"># This will cause AttributeError</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="c1">#  CORRECT - Use cell.bottom</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="p">:</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    <span class="n">dot2</span> <span class="o">=</span> <span class="n">dots</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="o">.</span><span class="n">col</span><span class="p">))</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>    <span class="k">if</span> <span class="n">dot2</span><span class="p">:</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>        <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</span></code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Neighbor Attribute Names</p>
<p>Cell neighbors are: <code>cell.left</code>, <code>cell.right</code>, <code>cell.above</code>, <code>cell.bottom</code> (NOT <code>cell.top</code> or <code>cell.below</code>).</p>
</div>
<hr>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link"></a></h2>
<h3 id="1-always-layer-connections-below-nodes">1. Always Layer Connections Below Nodes<a class="headerlink" href="#1-always-layer-connections-below-nodes" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># Create all connections first (z_index: 0)</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="n">should_connect</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="p">):</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>        <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>            <span class="n">start</span><span class="o">=</span><span class="n">dots</span><span class="p">[</span><span class="n">cell</span><span class="p">],</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>            <span class="n">end</span><span class="o">=</span><span class="n">dots</span><span class="p">[</span><span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="p">],</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>        <span class="p">)</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="c1"># Then create nodes on top (z_index: 10)</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a>    <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">,</span> <span class="n">z_index</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="2-use-dictionaries-to-track-nodes">2. Use Dictionaries to Track Nodes<a class="headerlink" href="#2-use-dictionaries-to-track-nodes" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># Index by position for easy neighbor lookup</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">dots</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    <span class="k">if</span> <span class="n">should_create_node</span><span class="p">(</span><span class="n">cell</span><span class="p">):</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>        <span class="n">dot</span> <span class="o">=</span> <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">primary</span><span class="p">)</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>        <span class="n">dots</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span> <span class="o">=</span> <span class="n">dot</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="c1"># Easy neighbor access</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="k">for</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">),</span> <span class="n">dot</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>    <span class="c1"># Check right neighbor</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>    <span class="n">right_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>    <span class="k">if</span> <span class="n">right_key</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">:</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>        <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dots</span><span class="p">[</span><span class="n">right_key</span><span class="p">],</span> <span class="o">...</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="3-start-with-grid-neighbors-then-add-distance">3. Start with Grid Neighbors, Then Add Distance<a class="headerlink" href="#3-start-with-grid-neighbors-then-add-distance" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># Phase 1: Create basic grid connections (simple)</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>        <span class="c1"># Connect to right</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">bottom</span><span class="p">:</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>        <span class="c1"># Connect to bottom</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="c1"># Phase 2: Add distance-based connections (complex)</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">dot1</span><span class="p">,</span> <span class="n">cell1</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">dots</span><span class="p">):</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>    <span class="k">for</span> <span class="n">dot2</span><span class="p">,</span> <span class="n">cell2</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]:</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>        <span class="n">distance</span> <span class="o">=</span> <span class="n">calculate_distance</span><span class="p">(</span><span class="n">cell1</span><span class="p">,</span> <span class="n">cell2</span><span class="p">)</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="n">max_distance</span><span class="p">:</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a>            <span class="c1"># Create connection</span>
</span></code></pre></div>
<h3 id="4-use-opacity-for-visual-depth">4. Use Opacity for Visual Depth<a class="headerlink" href="#4-use-opacity-for-visual-depth" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># Fade distant connections</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="n">opacity</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="p">(</span><span class="n">distance</span> <span class="o">/</span> <span class="n">max_distance</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.7</span>  <span class="c1"># 0.3 to 1.0</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="n">connection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>    <span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>    <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"opacity"</span><span class="p">:</span> <span class="n">opacity</span><span class="p">}</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p">)</span>
</span></code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Subtle Opacity Works Best</p>
<p>Don't fade connections below 0.3 opacity - they become invisible and add no value. Keep minimum opacity around 0.3-0.4 for best results.</p>
</div>
<hr>
<h2 id="advanced-techniques_1">Advanced Techniques<a class="headerlink" href="#advanced-techniques_1" title="Permanent link"></a></h2>
<h3 id="hub-detection">Hub Detection<a class="headerlink" href="#hub-detection" title="Permanent link"></a></h3>
<p>Create visual emphasis on highly connected nodes:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># Count connections per node</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="n">connection_count</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="k">for</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">),</span> <span class="n">dot</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>    <span class="n">connection_count</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="c1"># Track connections</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">:</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>    <span class="k">if</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span> <span class="ow">and</span> <span class="n">both_in_dots</span><span class="p">:</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>        <span class="n">connection_count</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>        <span class="n">connection_count</span><span class="p">[(</span><span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">cell</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">col</span><span class="p">)]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="c1"># Make hubs larger and different color</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="k">for</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">),</span> <span class="n">dot</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>    <span class="n">count</span> <span class="o">=</span> <span class="n">connection_count</span><span class="p">[(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)]</span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>    <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">:</span>  <span class="c1"># Hub threshold</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>        <span class="c1"># Redraw as larger, accented dot</span>
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>        <span class="n">cell</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">grid</span><span class="p">[</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>        <span class="n">cell</span><span class="o">.</span><span class="n">add_dot</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="o">.</span><span class="n">accent</span><span class="p">,</span> <span class="n">z_index</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="conditional-connection-styling">Conditional Connection Styling<a class="headerlink" href="#conditional-connection-styling" title="Permanent link"></a></h3>
<p>Different connection types for different relationships:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># Strong connection (similar brightness)</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">cell1</span><span class="o">.</span><span class="n">brightness</span> <span class="o">-</span> <span class="n">cell2</span><span class="o">.</span><span class="n">brightness</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.2</span><span class="p">:</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">accent</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="c1"># Weak connection (different brightness)</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>    <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"width"</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="n">colors</span><span class="o">.</span><span class="n">line</span><span class="p">,</span> <span class="s2">"z_index"</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="triangle-clusters">Triangle Clusters<a class="headerlink" href="#triangle-clusters" title="Permanent link"></a></h3>
<p>Connect sets of three nearby nodes to create mesh patterns:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># Find all triangles (sets of 3 mutually connected nodes)</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">for</span> <span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">c1</span><span class="p">),</span> <span class="n">dot1</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>    <span class="k">for</span> <span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">c2</span><span class="p">),</span> <span class="n">dot2</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>        <span class="k">for</span> <span class="p">(</span><span class="n">r3</span><span class="p">,</span> <span class="n">c3</span><span class="p">),</span> <span class="n">dot3</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>            <span class="k">if</span> <span class="n">all_within_distance</span><span class="p">([</span><span class="n">dot1</span><span class="p">,</span> <span class="n">dot2</span><span class="p">,</span> <span class="n">dot3</span><span class="p">],</span> <span class="n">max_distance</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>                <span class="c1"># Create triangle</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>                <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>                <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot3</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>                <span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot3</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="direction-based-coloring">Direction-Based Coloring<a class="headerlink" href="#direction-based-coloring" title="Permanent link"></a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1"># Calculate angle between nodes</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="n">dr</span> <span class="o">=</span> <span class="n">cell2</span><span class="o">.</span><span class="n">row</span> <span class="o">-</span> <span class="n">cell1</span><span class="o">.</span><span class="n">row</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="n">dc</span> <span class="o">=</span> <span class="n">cell2</span><span class="o">.</span><span class="n">col</span> <span class="o">-</span> <span class="n">cell1</span><span class="o">.</span><span class="n">col</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="n">angle</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">dr</span><span class="p">,</span> <span class="n">dc</span><span class="p">))</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="c1"># Color based on direction</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="k">if</span> <span class="o">-</span><span class="mi">45</span> <span class="o">&lt;=</span> <span class="n">angle</span> <span class="o">&lt;</span> <span class="mi">45</span><span class="p">:</span>  <span class="c1"># Rightward</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>    <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">primary</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="k">elif</span> <span class="mi">45</span> <span class="o">&lt;=</span> <span class="n">angle</span> <span class="o">&lt;</span> <span class="mi">135</span><span class="p">:</span>  <span class="c1"># Downward</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>    <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">secondary</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="k">else</span><span class="p">:</span>  <span class="c1"># Leftward or upward</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>    <span class="n">color</span> <span class="o">=</span> <span class="n">colors</span><span class="o">.</span><span class="n">accent</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="n">Connection</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">dot1</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">dot2</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">"color"</span><span class="p">:</span> <span class="n">color</span><span class="p">,</span> <span class="s2">"width"</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
</span></code></pre></div>
<hr>
<h2 id="performance-optimization">Performance Optimization<a class="headerlink" href="#performance-optimization" title="Permanent link"></a></h2>
<h3 id="limit-connection-checks">Limit Connection Checks<a class="headerlink" href="#limit-connection-checks" title="Permanent link"></a></h3>
<p>Distance-based connections require checking every pair of nodes (O(n)). For large grids, this becomes slow.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">#  SLOW - Checks all pairs</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="k">for</span> <span class="n">dot1</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">:</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>    <span class="k">for</span> <span class="n">dot2</span> <span class="ow">in</span> <span class="n">dots</span><span class="p">:</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>        <span class="k">if</span> <span class="n">distance</span><span class="p">(</span><span class="n">dot1</span><span class="p">,</span> <span class="n">dot2</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">max_distance</span><span class="p">:</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>            <span class="n">Connection</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="c1">#  FASTER - Use spatial bucketing</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaultdict</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="c1"># Group nodes by region</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="n">regions</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="n">region_size</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># cells</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="k">for</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">),</span> <span class="n">dot</span> <span class="ow">in</span> <span class="n">dots</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>    <span class="n">region_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">row</span> <span class="o">//</span> <span class="n">region_size</span><span class="p">,</span> <span class="n">col</span> <span class="o">//</span> <span class="n">region_size</span><span class="p">)</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>    <span class="n">regions</span><span class="p">[</span><span class="n">region_key</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">dot</span><span class="p">))</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="c1"># Only check within and adjacent regions</span>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="k">for</span> <span class="n">region_key</span><span class="p">,</span> <span class="n">nodes</span> <span class="ow">in</span> <span class="n">regions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a>    <span class="n">adjacent_regions</span> <span class="o">=</span> <span class="n">get_adjacent_regions</span><span class="p">(</span><span class="n">region_key</span><span class="p">)</span>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>    <span class="k">for</span> <span class="n">other_region_key</span> <span class="ow">in</span> <span class="n">adjacent_regions</span><span class="p">:</span>
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a>        <span class="c1"># Check connections only between nearby nodes</span>
</span></code></pre></div>
<div class="admonition info">
<p class="admonition-title">When to Optimize</p>
<p>For grids under 30x30 with moderate connection thresholds, basic O(n) checking is fine. Optimize only if rendering takes more than a few seconds.</p>
</div>
<hr>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link"></a></h2>
<ul>
<li> <a href="../../advanced-concepts/02-connections/">Connections</a> - Dynamic entity links</li>
<li> <a href="../../entities/01-dots/">Dots</a> - Creating nodes</li>
<li> <a href="../../entities/02-lines/">Lines</a> - Straight connections</li>
<li> <a href="../../entities/03-curves/">Curves</a> - Curved connections</li>
<li> <a href="../../examples/intermediate/connections/">Connections Example</a> - Detailed breakdown</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top", "navigation.indexes", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate", "content.tabs.link", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>